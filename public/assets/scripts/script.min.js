
var req;function formatBytes(b,a){if(b===0){return"0 Byte"}var e=1000;var d=a+1||3;var g=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];var f=Math.floor(Math.log(b)/Math.log(e));return parseFloat((b/Math.pow(e,f)).toFixed(d))+" "+g[f]}function switchValue(a){if(document.getElementById(a).value==="true"){document.getElementById(a).value="false"}else{document.getElementById(a).value="true"}}function toggle(){if(typeof(arguments[2])!=="undefined"){if($("#"+arguments[2]).is(":checked")){first_array="visible";second_array="hidden"}else{first_array="hidden";second_array="visible"}}else{first_array="visible";second_array="hidden"}for(var b=0,a=arguments[0].length;b<a;++b){if($(document.getElementById(arguments[0][b])).hasClass(second_array)){$(document.getElementById(arguments[0][b])).removeClass(second_array)}$(document.getElementById(arguments[0][b])).addClass(first_array)}for(var b=0,a=arguments[1].length;b<a;++b){if($(document.getElementById(arguments[1][b])).hasClass(first_array)){$(document.getElementById(arguments[1][b])).removeClass(first_array)}$(document.getElementById(arguments[1][b])).addClass(second_array)}}function toggle_sidebar(){if($(document.getElementById(arguments[0])).hasClass("sidebar-collapse")){$(document.getElementById(arguments[0])).removeClass("sidebar-collapse");$(document.getElementById(arguments[0])).removeClass("sidebar-open");$(document.getElementById(arguments[0])).removeClass("sidebar-mini")}else{$(document.getElementById(arguments[0])).addClass("sidebar-mini sidebar-collapse sidebar-open")}}function resizeBlocks(){h=$("#"+arguments[0]).height();for(var b=0,a=arguments[1].length;b<a;++b){$("#"+arguments[1][b]).height(h)}}function toggle_input_size(){if(arguments[1]===false){document.getElementById(arguments[0]).style.width="25px"}else{document.getElementById(arguments[0]).style.width="100px"}}function toggle_column(){if($("td[name="+arguments[0]+"]").hasClass("hidden")){$("td[name="+arguments[0]+"]").removeClass("hidden");$("#cb_"+arguments[0]).prop("checked",true)}else{$("td[name="+arguments[0]+"]").addClass("hidden");$("#cb_"+arguments[0]).prop("checked",false)}}function loadmail(b,d){document.getElementById("mailbox").innerHTML='<div class="box"><div class="box-header"><h3 class="box-title">Loading...</h3></div><div class="box-body"></div><div class="overlay"><i class="fa fa-refresh fa-spin"></i></div></div>';var a="../share/request/getMail.php?mailID="+b+"&box="+d;req=XMLobject();if(req){req.onreadystatechange=function(){mail(b,d)};req.open("GET",a,true);req.send(null)}}function mail(a,b){if(req.readyState===4){if(req.status===200){if(req.responseText.length!==1){document.getElementById("mailbox").innerHTML=req.responseText;if($("li[name*="+b+"]").hasClass("active")){$("li[name*="+b+"]").removeClass("active")}$("li[name="+b+"_"+a+"]").addClass("active")}else{window.location.reload()}}}}function loadhtml(d,j,e,g,f,a){document.getElementById(g).innerHTML='<div class="box"><div class="box-header"><h3 class="box-title">Loading...</h3></div><div class="box-body"></div><div class="overlay"><i class="fa fa-refresh fa-spin"></i></div></div>';var b="../share/request/get_"+d+".php?id="+j;req=XMLobject();if(req){req.onreadystatechange=function(){sethtml(d,j,e,g,f,a)};req.open("GET",b,true);req.send(null)}}function sethtml(b,g,d,f,e,a){if(req.readyState===4){if(req.status===200){if(req.responseText.length!==1){$("#"+d).removeClass("col-*");$("#"+d).addClass(e);$("#"+f).removeClass("hidden");$("#"+f).removeClass("col-*");$("#"+f).addClass(e);document.getElementById(f).innerHTML=req.responseText}else{window.location.reload()}InitScripts()}}}function update_paginator(a){if(req.readyState===4){if(req.status===200){if(req.responseText.length!==0){$("[id^=row]").removeClass("bg-aqua");$("[id^="+a+"_]").prop("checked",false);response=JSON.parse(req.responseText);if(typeof(response.length)==="undefined"){document.getElementById("count_selection").innerHTML=0;$("[id^="+a+"_]").prop("checked",false);$("#p_unselect").prop("checked",false);$(document.getElementById("span_unselect")).removeClass("visible");$(document.getElementById("span_unselect")).addClass("hidden")}else{document.getElementById("count_selection").innerHTML=response.length;for(i=0;i<response.length;i++){$("#"+a+"_"+response[i]).prop("checked",true);$("#row"+response[i]).addClass("bg-aqua")}$(document.getElementById("span_unselect")).removeClass("hidden");$(document.getElementById("span_unselect")).addClass("visible")}}}}}function checkrow(){paginator=arguments[1];if(arguments.length>=2){var a="../share/processors/p_config.php?func=paginator_checkrow&val="+arguments[0]+"&paginator="+paginator+"&reset="+arguments[2]}else{var a="../share/processors/p_config.php?func=paginator_checkrow&val="+arguments[0]+"&paginator="+paginator}req=XMLobject();if(req){req.onreadystatechange=function(){update_paginator(paginator)};req.open("GET",a,false);req.send(null)}if(arguments.length===4){$(document).ajaxStart(function(){Pace.restart()});$("#curriculum_content").parent().load(arguments[3]+"&ajax=true #curriculum_content");$(document.getElementById("div_print_certificate")).removeClass("hidden")}}function findBottomPos(d){var b=0;if(d.offsetParent){var a=d.offsetHeight;b=d.offsetTop+a;while(d=d.offsetParent){b+=d.offsetTop}}return b}function findTopPos(b){var a=0;if(b.offsetParent){a=b.offsetTop;while(b=b.offsetParent){a+=b.offsetTop}}return a}function floating_table(g,f,e,d,a,b){$("#"+g).scroll(function(n){var m=$(n.target).scrollTop();defaultTop=findTopPos($("#"+b)[0]);defaultBottom=findBottomPos($("#"+b)[0]);defaultHeight=defaultBottom-defaultTop;if((m>defaultBottom-50)&&(small===false)){for(var l=0,k=e.length;l<k;++l){$("td[name="+f+"_col_"+e[l]+"]").addClass("hidden")}$("#"+a).appendTo("#"+d);$('<div id="dummySpacePaginator" style="height: '+defaultHeight+'px;"></div>').appendTo("#"+b);$("#"+d).css({"background-color":"#ecf0f5","webkit-transform":"translate3d(0,0,0)"});small=true}else{if((m<defaultBottom-50)&&(small===true)){small=false;$("#"+a).appendTo("#"+b);$("#dummySpacePaginator").remove();for(var l=0,k=e.length;l<k;++l){$("td[name="+f+"_col_"+e[l]+"]").removeClass("hidden")}}}})}function checkfile(a){var b=document.getElementById(a);if(b){if(b.checked===false){b.checked=true;document.getElementById("row"+a).className="filelist activefilenail"}else{b.checked=false;document.getElementById("row"+a).className="filelist filenail"}}}function raiseEvent(d,b){var e=document.getElementById(b);if(document.createEvent){var a=document.createEvent("Events");a.initEvent(d,true,true);e.dispatchEvent(a)}else{if(document.createEventObject){var a=document.createEventObject();e.fireEvent("on"+d,a)}}e=null}function XMLobject(){var a=false;if(window.XMLHttpRequest){try{a=new XMLHttpRequest()}catch(b){a=false}}else{if(window.ActiveXObject){try{a=new ActiveXObject("Msxml2.XMLHTTP")}catch(b){try{a=new ActiveXObject("Microsoft.XMLHTTP")}catch(b){a=false}}}}return a}function process(){$("#popup").show();if(req.readyState===4){if(req.status===200){if(req.responseText.length!==0){response=JSON.parse(req.responseText);if(typeof(response.target)!=="undefined"){popup=response.target;$("#"+popup).show()}else{popup="popup"}if(document.getElementById(popup)){document.getElementById(popup).innerHTML=response.html;if(typeof(response.zindex)!=="undefined"){document.getElementById(popup).style.zIndex=response.zindex}if(typeof(response.script)!=="undefined"){document.getElementById(popup).innerHTML=document.getElementById(popup).innerHTML+response.script}raiseEvent("load",popup);$(document).ready(function(){$("form:first *:input,select,textarea").filter(":not([readonly='readonly']):not([disabled='disabled']):not([type='hidden'])").first().focus()})}else{alert(req.responseText)}}else{window.location.reload()}}}}function openLink(a,b){if(a!==""){window.open(a,b)}}function unmask(a,b){if(b){document.getElementById(a).type="text"}else{document.getElementById(a).type="password"}}function hideFile(){if(req.readyState===4){if(req.status===200){if(req.responseText.length!==1){if(document.getElementById("thumb_"+arguments[0])){document.getElementById("thumb_"+arguments[0]).style.display="none"}}else{window.location.reload()}}}}function setStatusColor(b,a){red="fa fa-circle-o";green="fa fa-circle-o";orange="fa fa-circle-o";white="fa fa-circle-o";bg="bg-white";switch(true){case (a==="x0"):red="fa fa-check-circle-o";bg="bg-red";break;case (a==="0x"):red="fa fa-circle";break;case (a==="00"):red="fa fa-check-circle";bg="bg-red";break;case (a==="01"):red="fa fa-circle";green="fa fa-check-circle-o";bg="bg-green";break;case (a==="02"):red="fa fa-circle";orange="fa fa-check-circle-o";bg="bg-orange";break;case (a==="03"):red="fa fa-circle";white="fa fa-check-circle-o";bg="bg-white";break;case (a==="x1"):green="fa fa-check-circle-o";bg="bg-green";break;case (a==="1x"):green="fa fa-circle";break;case (a==="10"):red="fa fa-check-circle-o";green="fa fa-circle";bg="bg-red";break;case (a==="11"):green="fa fa-check-circle";bg="bg-green";break;case (a==="12"):green="fa fa-circle";orange="fa fa-check-circle-o";bg="bg-orange";break;case (a==="13"):green="fa fa-circle";white="fa fa-check-circle-o";bg="bg-white";break;case (a==="x2"):orange="fa fa-check-circle-o";bg="bg-orange";break;case (a==="2x"):orange="fa fa-circle";break;case (a==="20"):orange="fa fa-circle";red="fa fa-check-circle-o";bg="bg-red";break;case (a==="21"):orange="fa fa-circle";green="fa fa-check-circle-o";bg="bg-green";break;case (a==="22"):orange="fa fa-check-circle";bg="bg-orange";break;case (a==="23"):orange="fa fa-circle";white="fa fa-check-circle-o";bg="bg-white";break;case (a==="3"):white="fa fa-check-circle-o";break;case (a==="3x"):white="fa fa-circle";break;case (a==="x3"):white="fa fa-check-circle-o";break;case (a==="30"):white="fa fa-circle";red="fa fa-check-circle-o";bg="bg-red";break;case (a==="31"):white="fa fa-circle";green="fa fa-check-circle-o";bg="bg-green";break;case (a==="32"):white="fa fa-circle";orange="fa fa-check-circle-o";bg="bg-orange";break;case (a==="33"):white="fa fa-check-circle";bg="bg-white";break;default:break}document.getElementById(b+"_green").className="margin-r-5 "+green+" text-green pointer_hand";document.getElementById(b+"_orange").className="margin-r-5 "+orange+" text-orange pointer_hand";document.getElementById(b+"_white").className="margin-r-5 "+white+" text-gray pointer_hand";document.getElementById(b+"_red").className="margin-r-5 "+red+" text-red pointer_hand";$(document.getElementById("ena_header_"+b)).alterClass("bg-*","bg-"+a)}function setAccomplishedObjectives(f,b,e,d){var a="../share/processors/p_setAccObjectives.php?userID="+b+"&creatorID="+f+"&enablingObjectiveID="+e+"&statusID="+d;req=XMLobject();if(req){req.onreadystatechange=function(){if(req.readyState===4&&req.status===200){setStatusColor(e,d)}};req.open("GET",a,true);req.send(null)}}function getRequest(a){req=XMLobject();if(req){req.onreadystatechange=process;req.open("GET",a);req.setRequestHeader("Content-Type","application/json; charset=utf-8");req.send()}}function curriculumdocs(a){window.open(a,"_blank","")}function formloader(){var a=window.location.href;var b=a.substring(a.indexOf("#")+1);if(typeof(arguments[4])!=="undefined"){getRequest("../share/plugins/"+arguments[4]+"/request/f_"+arguments[0]+".php?func="+arguments[1]+"&id="+arguments[2]+"&"+jQuery.param(arguments[3])+"&tab="+b)}else{if(typeof(arguments[3])!=="undefined"){getRequest("../share/request/f_"+arguments[0]+".php?func="+arguments[1]+"&id="+arguments[2]+"&"+jQuery.param(arguments[3])+"&tab="+b)}else{getRequest("../share/request/f_"+arguments[0]+".php?func="+arguments[1]+"&id="+arguments[2]+"&tab="+b)}}}function processor(){reload=true;if(typeof(arguments[3])!=="undefined"){if(typeof(arguments[3].reload)!=="undefined"){var a="true";reload=(a==arguments[3].reload)}}if(typeof(arguments[4])!=="undefined"){getRequest("../share/plugins/"+arguments[4]+"/processors/p_"+arguments[0]+".php?func="+arguments[1]+"&val="+arguments[2]+"&"+jQuery.param(arguments[3]))}else{if(typeof(arguments[3])!=="undefined"){var b="../share/processors/p_"+arguments[0]+".php?func="+arguments[1]+"&val="+arguments[2]+"&"+jQuery.param(arguments[3])}else{var b="../share/processors/p_"+arguments[0]+".php?func="+arguments[1]+"&val="+arguments[2]}}req=XMLobject();if(req){req.onreadystatechange=function(){if(this.readyState==this.DONE){if(reload==true){window.location.reload()}}}}req.open("GET",b,false);req.send(null)}function comment(){if(typeof(arguments[4])!=="undefined"){var a="../share/processors/p_comment.php?func="+arguments[0]+"&ref_id="+arguments[1]+"&context_id="+arguments[2]+"&text="+arguments[3]+"&parent_id="+arguments[4]}else{var a="../share/processors/p_comment.php?func="+arguments[0]+"&ref_id="+arguments[1]+"&context_id="+arguments[2]+"&text="+arguments[3]}req=XMLobject();if(req){req.onreadystatechange=window.location.reload();req.open("GET",a,false);req.send(null)}}function del(){if(confirm("Datensatz wirklich l\u00f6schen?")){if(typeof(arguments[2])!=="undefined"){var a="../share/processors/p_delete.php?db="+arguments[0]+"&id="+arguments[1]+"&ref_id="+arguments[2]}else{var a="../share/processors/p_delete.php?db="+arguments[0]+"&id="+arguments[1]}req=XMLobject();if(req){if(arguments[0]==="message"){document.getElementById(arguments[2]+"_"+arguments[1]).style.display="none";document.getElementById("mailbox").style.display="none"}else{if(arguments[0]==="file"){var b=arguments[1];req.onreadystatechange=function(){hideFile(b)}}else{req.onreadystatechange=process}}req.open("GET",a,true);req.send(null)}}}function removeMaterial(){if(confirm("Datei wirklich l\u00f6schen?")){var b="../share/request/deleteFile.php?fileID="+arguments[0];var a=arguments[0];req=XMLobject();if(req){req.onreadystatechange=function(){hideFile(a)};req.open("GET",b,true);req.send(null)}}}function deleteFile(){if(confirm("Datei wirklich l\u00f6schen?")){var b="deleteFile.php?fileID="+arguments[0];var a=arguments[0];req=XMLobject();if(req){req.onreadystatechange=function(){hideFile(a)};req.open("GET",b,true);req.send(null)}}}function expelUser(){if(confirm("Benutzer wirklich aus der Lerngruppe ausschreiben?")){var a="../share/request/expelUser.php?groupsID="+arguments[0]+"&userID="+arguments[1];getRequest(a)}}function expelFromInstituion(){if(confirm("Benutzer wirklich aus der Institution ausschreiben?")){var a="../share/request/expelFromInstitution.php?institutionID="+arguments[0]+"&userID="+arguments[1];getRequest(a)}}function getMultipleValues(){for(var b=0,a=arguments.length;b<a;++b){getValues(arguments[b][0],arguments[b][1],arguments[b][2],arguments[b][3],arguments[b][4])}}function getValues(){if(typeof(arguments[5])!=="undefined"){var a="../share/plugins/"+arguments[5]+"/get_"+arguments[0]+".php?dependency_id="+arguments[1]+"&name="+arguments[2]+"&format="+arguments[3]+"&select_id="+arguments[4]}else{if(typeof(arguments[4])!=="undefined"){var a="../share/request/get_"+arguments[0]+".php?dependency_id="+arguments[1]+"&name="+arguments[2]+"&format="+arguments[3]+"&select_id="+arguments[4]}else{var a="../share/request/get_"+arguments[0]+".php?dependency_id="+arguments[1]+"&name="+arguments[2]+"&format="+arguments[3]}}target=arguments[2];req=XMLobject();if(req){req.onreadystatechange=function(){setValues(target)};req.open("GET",a,false);req.send(null)}}function setValues(){if(req.readyState===4){if(req.status===200){if(req.responseText.length!==0){response=JSON.parse(req.responseText);if(document.getElementById(arguments[0])){document.getElementById(arguments[0]).innerHTML=response.html;if($("#"+arguments[0]).hasClass("chosen-select")){$("#"+arguments[0]).trigger("chosen:updated")}if($("#"+arguments[0]).hasClass("select2")){$("#"+arguments[0]).select2()}}}}}}function checkbox_addForm(){if(arguments[0]){document.getElementById(arguments[2]).style.display=arguments[1];document.getElementById(arguments[3]).style.display="none"}else{document.getElementById(arguments[2]).style.display="none";document.getElementById(arguments[3]).style.display=arguments[1]}}function hideMaterial(){document.getElementById("popup").style.visibility="hidden"}function checkPaginatorRow(d,a){var b=document.getElementById(d+""+a);if(b){if(b.checked===false){b.checked=true;document.getElementById("row"+a).className="activecontenttablerow"}else{b.checked=false;document.getElementById("row"+a).className="contenttablerow"}}}function hideUploadframe(){document.getElementById("uploadframe").style.display="none"}function confirmDialog(a){if(confirm(a)){return true}else{return false}}function showSubjectIcon(b,a){document.getElementById("icon_img").style.background="url('"+b+a+"') center center"}function sendForm(a,b){var d=$("#"+a);var e=d.serialize();$.post("../share/request/"+b,e,function(f){$("#"+a+"").html(f)});return false}function updateFileHits(){var a="../share/request/updateFileHits.php?fileID="+arguments[0];req=XMLobject();if(req){req.open("GET",a,true);req.send(null)}}function resizeModal(){if($(".modal-content").height()>window.innerHeight){$(".modal-content").height(window.innerHeight-50);$(".modal-body").height(($(".modal-content").height())-($(".modal-header").height())-($(".modal-footer").height())-50-31)}if(document.getElementById("modal-preview")!==null){document.getElementById("modal-preview").style.width="100%";document.getElementById("modal-preview").style.height="100%"}}function popupFunction(e){$("body").addClass("modal-open");$("#overlay").addClass("overlay");var script=$("#"+e).children("script").text();eval(script);resizeModal();textareas=document.getElementsByTagName("textarea");for(var i=0,len=textareas.length;i<len;i++){CKEDITOR.dtd.$removeEmpty.i=false;if(i==0){CKEDITOR.replace(textareas[i].id,{toolbarStartupExpanded:false})}else{CKEDITOR.replace(textareas[i].id,{toolbarStartupExpanded:true})}CKEDITOR.on("instanceReady",function(){resizeModal()})}$(".select2").select2();$('button[data-toggle="collapse"]').click(function(){$(this).find("i.fa").toggleClass("fa-compress fa-expand")});$(function(){$("body").click(function(e){if($("body").hasClass("modal-open")){if(textareas.length>0){}else{if(e.target.id=="modal"||$(e.target).parents("#modal").size()){}else{if(e.target.id=="daterangepicker"||$(e.target).parents("#daterangepicker").size()){}else{if($("#daterangepicker").is(":visible")||$("#colorpicker").is(":visible")||$(".cke_dialog").is(":visible")){}else{closePopup("null")}}}}}})})}function removeMedia(){$.each($("audio,video"),function(){this.pause();this.src="";$(this).children("source").prop("src","");this.remove()})}function setFormData(){var a="../share/processors/p_setFormData.php?file="+arguments[0];req=XMLobject();if(req){req.onloadend=function(){if(req.responseText.length>1){c=JSON.parse(req.responseText);$("#curriculum",top.document).val(c.curriculum);$("#description",top.document).val(c.description);set_select("grade_id",c.grade_id,"value","top");set_select("subject_id",c.subject_id,"value","top");set_select("schooltype_id",c.schooltype_id,"value","top");set_select("state_id",c.state_id,"value","top");set_select("country_id",c.country_id,"value","top");set_select("icon_id",c.icon_id,"value","top")}}}req.open("GET",a,true);req.send(null)}function val_exist_in_select(a,b){for(i=0;i<document.getElementById(a).length;++i){if(document.getElementById(a).options[i].value==b){return true}else{return false}}}function set_select(d,g,f,k){if(typeof(f)==="undefined"){f="innerHTML"}if(typeof(k)==="undefined"){k="document"}if(k==="top"){var e=top.document.getElementById(d)}else{var e=document.getElementById(d)}for(var b=0,a=e.options.length;b<a;++b){if(f==="innerHTML"){if(e.options[b].innerHTML===g){e.selectedIndex=b;break}}if(f==="value"){if(e.options[b].value===g){e.selectedIndex=b;break}}}}function closePopup(a){if(arguments[0]){popup=arguments[0]}else{popup="popup"}if(popup!="null"){processor("reset","","")}else{popup="popup"}removeMedia();$("#"+popup).hide();$("body").removeClass("modal-open");$("#overlay").removeClass("overlay");document.getElementById(popup).innerHTML='<div class="modal-dialog"><div class="box"><div class="box-header"><h3 class="box-title">Loading...</h3></div><div class="box-body"></div><div class="overlay"><i class="fa fa-refresh fa-spin"></i></div></div></div>'}function printById(e){var b=document.getElementById(e).innerHTML;var d=document.createElement("iframe");d.name="frame1";d.style.position="absolute";d.style.top="-1000000px";document.body.appendChild(d);var a=d.contentWindow?d.contentWindow:d.contentDocument.document?d.contentDocument.document:d.contentDocument;a.document.open();a.document.write("<html><head><title>DIV Contents</title>");a.document.write("</head><body>");a.document.write(b);a.document.write("</body></html>");a.document.close();setTimeout(function(){window.frames.frame1.focus();window.frames.frame1.print();document.body.removeChild(d)},500);return false}function search(d,a,b){$("#"+a).mark(d,{acrossElements:true})}function InitScripts(){$(function(){$(".nyroModal").nyroModal({callbacks:{beforeShowBg:function(){$("body").css("overflow","hidden")},afterHideBg:function(){$("body").css("overflow","")},afterShowCont:function(a){$(".scroll_list").height($(".modal").height()-150)}}});$("#popup_generate").nyroModal()})}function filterBySubject(a){$("#subject_ajax>div").each(function(d,f){var e=$(f);if(a==="false"){e.show()}else{var b=e.find(".subjectItem");var g=false;b.each(function(j,l){var k=l.textContent;if(k===a){g=true}});if(g){e.show()}else{e.hide()}}})}function ajaxSubmit(d,a,b,e){$.ajax({url:"../share/processors/"+a+"?func=ajaxsubmit",data:{id:$(d).attr("id"),value:$(d).val(),table:b,func:"ajaxsubmit",params:e},type:"post"}).done(function(f){$("#"+jQuerySelectorEscape($(d).attr("id"))+"_form_group").addClass("has-success");console.log("Done: ",f)}).fail(function(){console.log("Failed")})}function jQuerySelectorEscape(a){return a.replace(/[!"#$%&'()*+,.\/:;<=>?@\[\\\]^`{|}~]/g,"\\$&")};